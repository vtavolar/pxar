#include "shist256.hh"

// ----------------------------------------------------------------------
shist256::shist256() {
  clear();
}

// ----------------------------------------------------------------------
shist256::~shist256() {
}

// ----------------------------------------------------------------------
void shist256::clear() {
  for (int i = 0; i < NBINS+2; ++i) fX[i] = 0.;
}

// ----------------------------------------------------------------------
void shist256::fill(int x, float w) {
  if (x < 0) {
    fX[0] += w; 
  } else if (x > 256) {
    fX[NBINS+1] += w; 
  } else {
    fX[x+1] += w; 
  }
}

// ----------------------------------------------------------------------
float shist256::get(int i) {
  if (i < 0) {
    return fX[0];
  } else if (i > 256) {
    return fX[NBINS+1];
  } else {
    return fX[i+1];
  }
}

// ----------------------------------------------------------------------
float shist256::get(float i) {
  int ii(i); 
  if (i < 0) ii = i - 1.;
  return get(ii);
}

// ----------------------------------------------------------------------
float shist256::getSumOfWeights() {
  float sum(0.); 
  for (int i = 0; i < NBINS+2; ++i) sum += fX[i];
  return sum;
}
